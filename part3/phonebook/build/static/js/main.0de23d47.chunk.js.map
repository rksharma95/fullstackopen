{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","keyword","handleKey","value","onChange","PersonForm","props","newName","handleNameChange","newNumber","handleNumberChange","handleSubmit","type","onClick","Person","persons","searchKey","searchResult","handleClick","e","id","target","getAttribute","name","window","confirm","handleDelete","map","person","number","baseUrl","personService","getAll","axios","get","create","newObject","post","update","put","del","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setSearchKey","setSearchResult","setMessage","messageType","setMessageType","useEffect","handleSearch","filter","toLowerCase","includes","formProps","preventDefault","newPerson","undefined","find","then","response","concat","data","setTimeout","catch","error","personProps","newKey","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0de23d47.chunk.js","sourcesContent":["const Filter = ({keyword, handleKey}) => {\r\n\r\n\treturn(\r\n\t\t<div>\r\n          filter shown with \r\n          <input value={keyword} onChange={handleKey}/>\r\n    </div>\r\n\t)\r\n}\r\n\r\nexport default Filter;","const PersonForm = (props) => {\r\n\r\n\tconst {\r\n\t\tnewName,\r\n\t\thandleNameChange,\r\n\t\tnewNumber,\r\n\t\thandleNumberChange,\r\n\t\thandleSubmit } = props.props \r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<form>\r\n\t\t\t\t<div>\r\n\t\t\t        name: <input value={newName} onChange={handleNameChange}/>\r\n\t\t\t    </div>\r\n\t\t\t    <div>\r\n\t\t\t        number: <input value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t    </div>\r\n\t\t\t    <div>\r\n\t\t\t        <button type=\"submit\" onClick={handleSubmit}>add</button>\r\n\t\t        </div>\r\n\t        </form>\r\n        </div>\r\n\t)\r\n}\r\n\r\nexport default PersonForm;","const Person = (props) => {\r\n\r\n\tconst {persons, searchKey, searchResult} = props.props\r\n\r\n\tconst handleClick = (e) => {\r\n\t\tconst id = e.target.getAttribute('id')\r\n\t\tconst name = e.target.getAttribute('name')\r\n\t\tconst confirm = window.confirm(`Delete ${name} ?`)\r\n\t\tif(confirm)\r\n\t\t\tprops.handleDelete(id)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t{ searchKey === '' ? \r\n        persons.map(person => \r\n\t\t\t<div key = {person.name}>\r\n\t\t\t\t<p>{person.name} {person.number}\r\n\t\t\t\t\t<button type=\"button\" id={person.id} name={person.name} onClick={handleClick}>delete</button>\r\n\t\t\t\t</p>\r\n\t\t\t</div>)\r\n        : searchResult.map(person => <p key={person.name}>{person.name}</p>)\r\n    \t}\r\n    \t</div>\r\n\t)\r\n}\r\n\r\nexport default Person;","import axios from 'axios'\nconst baseUrl = \"/api/persons\"\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = (newObject) => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst del = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst personService = {\n    getAll, create, update, del\n}\nexport default personService;","const Notification = ({message, className}) => {\n\n    if(message === null){\n        return null\n    }\n\n    return(\n        <div className={className}>{message}</div>\n    )\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ searchKey, setSearchKey] = useState('')\n  const [ searchResult, setSearchResult] = useState(persons)\n  const [ message, setMessage] = useState(null)\n  const [ messageType, setMessageType] = useState('')\n\n\n  const handleNameChange = (e) => setNewName(e.target.value)\n\n  const handleNumberChange = (e) => setNewNumber(e.target.value)\n\n  const handleSearchKeyChange = (e) => {\n    let newKey\n    newKey = e.target.value\n    setSearchKey(newKey)    \n  }\n\n  // eslint-disable-next-line\n  useEffect(()=>{handleSearch()},[searchKey, persons])\n\n  const handleSearch = () => {\n    setSearchResult(\n      persons.filter(\n        person => person.name.toLowerCase().includes(searchKey.toLowerCase())\n      )\n    )\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newPerson = newName\n    if (persons.find(person => person.name === newPerson) === undefined){\n      personService\n        .create({name:newName, number: newNumber})\n        .then(response => setPersons(persons.concat(response.data)))\n        .then(()=> {\n          setMessageType('success')\n          setMessage(`Added ${newName}`)\n          setTimeout(()=> setMessage(null), 5000)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setMessage('an error occured while adding')\n          setMessageType('error')\n          setTimeout(()=> setMessage(null), 5000)\n        })\n   \n    }\n    else{\n      const {id} = persons.find(person => person.name === newPerson)\n      const replace =  window.confirm(`${newPerson} is already added to phonebook, replace the old number with new one?`)\n      if(replace){\n        personService\n          .update(id,{name:newName, number:newNumber})\n          .then(()=> {\n            personService\n              .getAll()\n              .then(response => setPersons(response.data))\n              .then(() => {\n                setMessageType('success')\n                setMessage(`Added ${newName}`)\n                setTimeout(()=> setMessage(null), 5000)\n                setNewName('')\n                setNewNumber('')\n              })\n          })\n          .catch(error => {\n            setMessage('an error occured while adding')\n            setMessageType('error')\n            setTimeout(()=> setMessage(null), 5000)\n          })          \n      }\n    }\n  }\n\n  const formProps = {\n    newName: newName,\n    handleNameChange: handleNameChange,\n    newNumber: newNumber,\n    handleNumberChange: handleNumberChange,\n    handleSubmit: handleSubmit\n  }\n\n  const personProps = {\n    persons: persons, \n    searchKey: searchKey,\n    searchResult: searchResult\n  }\n\n  useEffect(()=> {\n    personService\n      .getAll()\n      .then(response => setPersons(response.data))\n  },[])\n\n  const handleDelete = (id) => {\n    personService\n      .del(id)\n      .then(() => {\n        personService\n        .getAll()\n        .then(person => setPersons(person.data))\n        } \n      )\n  }\n\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n        <Notification message={message} className={messageType} />\n        <Filter keyword={searchKey} handleKey={handleSearchKeyChange} />\n        \n        <h3>Add a new...</h3>\n        <PersonForm props={formProps} />\n      \n        <h2>Numbers</h2>\n        <Person props={personProps} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}